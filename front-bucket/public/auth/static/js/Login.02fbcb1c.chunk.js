(this["webpackJsonp@elgatoylacaja/auth"]=this["webpackJsonp@elgatoylacaja/auth"]||[]).push([[1],{220:function(e,a,t){"use strict";t.r(a);var n=t(3),r=t(6),o=t.n(r),i=t(12),l=t(8),c=t(0),s=t.n(c),m=t(202),p=t(205),d=t(139),u=t(206),g=t(162),x=t(55),f=t(87),h=t(50),y=t(44),b=t(112),E=t(92),v=t(88),C=t(123),w=E.b.GoogleLoginConfig,k=E.b.FacebookLogin,j=Object(m.a)({servicesLoginContainer:{justifyContent:"space-between",marginTop:"10px","@media only screen and (max-width : 600px)":{flexDirection:"column"}},googleBtn:{height:"60px",color:"#979797",backgroundColor:"white",marginLeft:"16px",border:"1px solid #979797",borderRadius:"3px",maxHeight:"60px",padding:"20px",paddingTop:"10px",paddingBottom:"10px",textTransform:"none",fontWeight:400,flex:1,"@media only screen and (max-width : 600px)":{marginLeft:"0px",marginTop:"10px",flex:"initial"}},fbBtn:{height:"60px",color:"white",backgroundColor:"#4267B2",marginRight:"16px",borderRadius:"3px",maxHeight:"60px",padding:"20px",paddingTop:"10px",paddingBottom:"10px",textTransform:"none",fontWeight:400,flex:1,"@media only screen and (max-width : 600px)":{marginRight:"0px",flex:"initial"}},btnLabel:{display:"flex",alignItems:"center",justifyContent:"flex-start"},btnIcon:{width:"25px",display:"flex",justifyContent:"flex-start",alignItems:"center",marginRight:"15px"},btnText:{lineHeight:"24px",fontSize:"18px","@media only screen and (max-width : 600px)":{width:"100%"}},eyeIcon:{padding:"5px"},footerContainer:{backgroundColor:"var(--gray-light)",height:"96px",width:"100vw",position:"absolute",bottom:"0","@media only screen and (min-width: 800px)":{left:"calc((100vw - 800px) / (-2))"},"@media only screen and (max-width: 800px)":{position:"relative",marginLeft:"-24px",marginBottom:"-24px",marginTop:"auto",height:"fit-content"},display:"flex",justifyContent:"center",alignItems:"center",paddingTop:"10px",paddingBottom:"15px"},cardContainer:{"@media only screen and (min-width: 800px)":{marginBottom:"calc(96px - 24px + 37px) !important"}},footerText:{fontSize:"14px !important",lineHeight:"24px !important",padding:"0 24px",marginTop:"5px",boxSizing:"border-box",maxWidth:"800px","@media only screen and (max-width: 800px)":{marginTop:"10px"}}}),I=b.b().shape({email:b.c().email("No es un email v\xe1lido").required("Este campo es requerido"),password:b.c().required("Este campo es requerido")});a.default=Object(x.g)((function(e){var a=j(),t=Object(f.o)(),r=Object(y.c)(),c=r.startLoading,m=r.stopLoading,x=s.a.useState(""),b=Object(l.a)(x,2),T=b[0],N=b[1],S=s.a.useContext(v.a).dispatch,L=function(){var e=Object(i.a)(o.a.mark((function e(a,t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Login correcto: ".concat(a,", token: ").concat(t)),S({type:"LOGIN",accessToken:t}),m();case 3:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}();s.a.useEffect((function(){E.a.EVENT({category:"Login",action:"Visit Login"})}),[]),s.a.useEffect((function(){var e=function(){var e=Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();w(document.getElementById("googleSignInButton"),e,(function(e){console.error(e),m(),N("Hubo un error al ingresar con google")}))}),[]);var B=function(){var e=Object(i.a)(o.a.mark((function e(a,t){var n,r,i,l,s,p;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.email,r=a.password,i=t.setFieldError,E.a.CLICK_SERVICE("email"),c(),e.prev=4,e.next=7,C.a.login({email:n,password:r});case 7:l=e.sent,s=l.accessToken,L("email",s),e.next=19;break;case 12:e.prev=12,e.t0=e.catch(4),p=e.t0.status,e.t0.error,m(),N(""),403===p?(E.a.ERROR_SERVICE("email","(password)"),i("password","Contrase\xf1a incorrecta")):404===p&&(E.a.ERROR_SERVICE("email","(no existe)"),i("email","No existe un usuario con ese email"));case 19:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(a,t){return e.apply(this,arguments)}}(),O=s.a.useState(!1),R=Object(l.a)(O,2),H=R[0],V=R[1],q=function(){var e=Object(i.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.authResponse||(console.error("User cancelled login or did not fully authorize."),m(),N("Hubo un error al ingresar con facebook, al reintentar revisa los permisos necesarios"),V(!0));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),z=s.a.useState(!1),D=Object(l.a)(z,2),_=D[0],A=D[1],F=s.a.useState(!1),P=Object(l.a)(F,2),G=P[0],W=P[1],K=s.a.useState(!1),M=Object(l.a)(K,2),J=M[0],U=M[1];return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:t.hola,style:{}},s.a.createElement("span",null,"\xa1Hola!")),s.a.createElement("div",{className:t.authCardContainer+" "+a.cardContainer},s.a.createElement(p.a,{container:!0,style:{marginTop:10,flexDirection:"column"}},s.a.createElement(d.a,{variant:"h1",className:t.titleDisplay},"Sumate a hacer ciencia colectiva"),s.a.createElement(d.a,{variant:"body1",className:t.link,onClick:function(){W((function(e){return!e})),J||(E.a.EVENT({category:"Auth Disclaimer",action:"Click expand disclaimer"}),U(!0))},style:{display:"flex",alignItems:"center"}},"\xbfPor qu\xe9 tengo que iniciar sesi\xf3n?"," ",s.a.createElement("span",{style:{marginLeft:"6px",display:"flex",justifyContent:"center",alignItems:"center"}},G?s.a.createElement(f.c,{color:"var(--primary)"}):s.a.createElement(f.b,{color:"var(--primary)"}))),s.a.createElement(d.a,{variant:"body1",className:t.text,style:{transition:G?"max-height 0.25s ease-in":"max-height 0.15s ease-out",overflow:"hidden",maxHeight:G?"1000px":"0px",marginBottom:"40px"}},"Es necesario iniciar sesi\xf3n para evitar que repitas un experimento y tomemos una muestra dos veces. Todos los datos est\xe1n anonimizados, son usados exclusivamente para investigaci\xf3n cient\xedfica y son publicados de manera abierta y puestos a disposici\xf3n de la comunidad cient\xedfica conjuntamente con los papers.")),s.a.createElement(p.a,{style:{marginTop:10}},s.a.createElement(f.f,{condition:""!==T,message:T}),s.a.createElement(p.a,{container:!0,className:a.servicesLoginContainer},s.a.createElement(f.a,{onClick:function(){E.a.CLICK_SERVICE("facebook"),c();try{k(q,H)}catch(e){m(),console.log(e)}},className:a.fbBtn,color:"facebook",label:s.a.createElement("div",{className:a.btnLabel},s.a.createElement("div",{className:a.btnIcon},s.a.createElement(f.i,{style:{width:"100%"},color:"white"})),s.a.createElement("span",{className:a.btnText},"Ingresar con ",s.a.createElement("b",null,"Facebook")))}),s.a.createElement(f.a,{onClick:function(){E.a.CLICK_SERVICE("google"),c()},className:a.googleBtn,color:"google",id:"googleSignInButton",label:s.a.createElement("div",{className:a.btnLabel},s.a.createElement("div",{className:a.btnIcon},s.a.createElement(f.j,{style:{width:"100%"}})),s.a.createElement("span",{className:a.btnText},"Ingresar con ",s.a.createElement("b",null,"Google")))})),s.a.createElement(p.a,{style:{margin:"40px 0 12px 0"},justify:"center",alignItems:"center",container:!0},s.a.createElement(u.a,{style:{width:"40%",height:"2px",backgroundColor:"var(--gray)",display:"inline-flex"}}),s.a.createElement(d.a,{style:{width:"20%",margin:"0",textAlign:"center",fontFamily:"Gotham",fontSize:"18px",lineHeight:"27px",color:"var(--gray-dark)",fontWeight:600}},"O"),s.a.createElement(u.a,{style:{width:"40%",height:"2px",backgroundColor:"var(--gray)",display:"inline-flex"}})),s.a.createElement(h.b,{initialValues:{email:"",password:""},onSubmit:B,validationSchema:I},(function(e){var r=e.values,o=e.handleChange,i=e.handleBlur,l=e.handleSubmit,c=e.errors,m=(e.submitCount,Object(n.a)(e,["values","handleChange","handleBlur","handleSubmit","errors","submitCount"]));return s.a.createElement("form",{onSubmit:l},s.a.createElement(f.n,{value:r.email,onChange:o,onBlur:i,label:"Email",type:"email",inputProps:{inputMode:"email"},autoComplete:"email",id:"email",error:void 0!==c.email&&m.touched.email,errorMessage:c.email,handleError:!0}),s.a.createElement(f.n,{value:r.password,onChange:o,onBlur:i,label:"Contrase\xf1a",type:_?"text":"password",id:"password",autoComplete:"current-password",InputProps:{endAdornment:s.a.createElement(g.a,{onClick:function(){return A((function(e){return!e}))},className:a.eyeIcon},_?s.a.createElement(f.h,{color:"var(--gray-dark)"}):s.a.createElement(f.g,{color:"var(--gray-dark)"}))},error:void 0!==c.password&&m.touched.password,errorMessage:c.password,handleError:!0}),s.a.createElement("div",{style:{width:"100%",textAlign:"right"}},s.a.createElement(f.k,{color:"var(--secondary)",to:"/reset",style:{fontSize:"12px"}},"Olvid\xe9 mi contrase\xf1a")),s.a.createElement(f.a,{style:{marginTop:"40px"},id:"button-login",color:"primary",label:"Ingresar",type:"submit"}),s.a.createElement(d.a,{className:t.p,style:{fontSize:"16px",textAlign:"center",marginBottom:"45px"}},"\xbfTodav\xeda no ten\xe9s cuenta?"," ",s.a.createElement(f.k,{color:"var(--primary)",to:"/signup"},"Crear cuenta")))})))),s.a.createElement("div",{className:a.footerContainer},s.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center"}},s.a.createElement(d.a,{className:t.text+" "+a.footerText},"Pod\xe9s leer nuestras"," ",s.a.createElement("a",{target:"_blank",href:"https://eglcinvestigacion.com/privacidad",rel:"noopener noreferrer",style:{color:"var(--primary)",textDecoration:"none"}},"pol\xedticas de privacidad"),"."),s.a.createElement(d.a,{className:t.text+" "+a.footerText},"Pod\xe9s ver todos los experimentos, diarios de investigaci\xf3n, papers publicados y datasets en"," ",s.a.createElement("a",{target:"_blank",href:"https://elgatoylacaja.com.ar/labs",rel:"noopener noreferrer",style:{color:"var(--primary)",textDecoration:"none"}},"https://elgatoylacaja.com.ar/labs")," ","o escribirnos a"," ",s.a.createElement("a",{href:"mailto:labs@elgatoylacaja.com",style:{color:"var(--primary)",textDecoration:"none"}},"labs@elgatoylacaja.com")," ","por cualquier consulta."))))}))}}]);
//# sourceMappingURL=Login.02fbcb1c.chunk.js.map